<!-- src/app/features/dashboard/enseignant/seances-enseignant/filtres-seances/filtres-seances.component.html -->
<div class="filtres-container">
  <div class="filtres-header">
    <h3>Filtrer les séances</h3>
    <div class="quick-actions">
      <button class="btn btn-secondary" (click)="setSemaineActuelle()">
        <i class="pi pi-calendar"></i> Semaine actuelle
      </button>
      <button class="btn btn-secondary" (click)="setDateAujourdhui()">
        <i class="pi pi-calendar-plus"></i> Aujourd'hui
      </button>
      <button class="btn btn-secondary" (click)="resetFiltres()">
        <i class="pi pi-refresh"></i> Réinitialiser
      </button>
    </div>
  </div>

  <form [formGroup]="filtresForm" class="filtres-form">
    <div class="form-row">
      <!-- Type de filtre de date --><!--
      <div class="form-group">
        <label>Filtrage par date:</label>
        <select formControlName="typeFiltre" (change)="onTypeChangement()" class="form-control">
          <option value="periode">Période</option>
          <option value="date">Date spécifique</option>
        </select>
      </div>

      &lt;!&ndash; Filtre par période &ndash;&gt;
      <div *ngIf="filtresForm.get('typeFiltre')?.value === 'periode'" class="form-group-dates">
        <div class="form-group">
          <label>Date de début:</label>
          <input type="date" formControlName="dateDebut" class="form-control">
        </div>
        <div class="form-group">
          <label>Date de fin:</label>
          <input type="date" formControlName="dateFin" class="form-control">
        </div>
      </div>-->

      <!-- Filtre par date spécifique -->
      <!--<div *ngIf="filtresForm.get('typeFiltre')?.value === 'date'" class="form-group">
        <label>Date:</label>
        <input type="date" formControlName="date" class="form-control">
      </div>-->

      <!-- Filtre par module -->
      <div class="form-group">
        <label>Module:</label>
        <select formControlName="moduleId" class="form-control">
          <option value="">Tous les modules</option>
          <option *ngFor="let module of modules" [value]="module.id">
            {{ module.libelle }}
          </option>
        </select>
      </div>

      <!-- Filtre par statut -->
      <div class="form-group">
        <label>Statut:</label>
        <select formControlName="statut" class="form-control">
          <option value="">Tous les statuts</option>
          <option *ngFor="let status of statusOptions" [value]="status">
            {{ formatStatus(status) }}
          </option>
        </select>
      </div>
    </div>
  </form>

  <!-- Debug info (à supprimer en production) -->
  <div *ngIf="false" style="margin-top: 10px; padding: 10px; background: #f0f0f0; font-size: 12px;">
    <p><strong>Debug - Modules chargés:</strong> {{ modules.length }}</p>
    <p><strong>Valeurs du formulaire:</strong></p>
    <pre>{{ filtresForm.value | json }}</pre>
  </div>
</div>
