<!-- classroom-create.component.html -->
<div class="container">
<!--
  <h1>{{ isEditMode ? 'Modifier la Classe' : 'Ajouter une Classe' }}</h1>
-->

  <form [formGroup]="formClasse" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nom">Nom de la Classe:</label>
      <input
        type="text"
        id="nom"
        class="form-control"
        formControlName="nom"
        placeholder="Entrez le nom de la classe"
      />
      <div *ngIf="formClasse.get('nom')?.invalid && formClasse.get('nom')?.touched" class="error-message">
        Le nom de la classe est requis
      </div>
    </div>

    <div class="form-group">
      <label for="niveauId">Niveau</label>
      <select id="niveauId" formControlName="niveauId" class="form-control">
        <option value="" disabled>Sélectionnez un niveau</option>
        <option *ngFor="let niveau of ListNiveaux" [value]="niveau.id">{{niveau.label}}</option>
      </select>
      <div *ngIf="formClasse.get('niveauId')?.invalid && formClasse.get('niveauId')?.touched" class="error-message">
        Le niveau est requis
      </div>
    </div>

    <div class="form-group">
      <label for="anneeScolaire">Année Scolaire:</label>
      <input
        type="text"
        id="anneeScolaire"
        class="form-control"
        formControlName="anneeScolaire"
        placeholder="Ex: 2024/2025"
      />
      <div *ngIf="formClasse.get('anneeScolaire')?.invalid && formClasse.get('anneeScolaire')?.touched" class="error-message">
        L'année scolaire est requise
      </div>
    </div>

    <div class="form-group">
      <label for="capacite">Capacité:</label>
      <input
        type="number"
        id="capacite"
        class="form-control"
        formControlName="capacite"
        placeholder="Entrez la capacité de la classe"
      />
      <div *ngIf="formClasse.get('capacite')?.invalid && formClasse.get('capacite')?.touched" class="error-message">
        La capacité est requise et doit être supérieure à 0
      </div>
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn-primary"
        [disabled]="formClasse.invalid">
        {{ isEditMode ? 'Mettre à jour' : 'Ajouter' }}
      </button>

      <button
        *ngIf="isEditMode"
        type="button"
        class="btn-secondary"
        (click)="cancelEdit()">
        Annuler
      </button>
    </div>
  </form>
</div>
